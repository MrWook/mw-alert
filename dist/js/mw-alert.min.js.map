{"version":3,"sources":["../../src/mw-alert.js","../../src/modules/config.js","../../src/modules/directive.js","../../src/modules/run.js","../../src/modules/service.js","../../tmp/templates.js"],"names":["angular","parent_selector","timeout","close_auto","$scope","controller","mwAlertService","close","message","restrict","params","attr","mwAlertTemplateUrl","undefined","templateUrl","replace","module","run","$rootScope","$document","$compile","$timeout","mwAlertConfig","parent","element","_typeof","Symbol","iterator","obj","constructor","prototype","msg","debounce","Array","isArray","Error","text","type","copy","$broadcast","data","cancel","catch","$templateCache","put"],"mappings":";;;;;;;eAAA,uGCAAA,gBAAe,OACdC,QAAAA,IACAC,YAAiB,EACjBC,YAAiB,+HCHlBH,WAAA,CAAe,SAAf,SAAqCI,GAEnCC,EAAAA,MAAcC,EAAUC,4CAIvBH,EAAAI,QAAAA,0CAKAJ,EAAAI,QAAAA,MAGCC,SAFD,IAGAL,QAdK,EAeNK,YAfM,SAAAC,EAAAC,GAgBNP,OAAAA,EAAaQ,qBAhBPC,EAiBNC,EAAaF,mBAEJD,EAAKC,aAGZG,SAAA,MAIHf,EA3BDgB,OAAA,YAAAC,IAAA,CAAA,aAAA,YAAA,WAAA,WAAA,gBAAA,SAAAC,EAAAC,EAAAC,EAAAC,EAAAC,2BCCKrB,EAAAA,EAAAA,QAAkBqB,EAAcrB,GAAAA,cAApCA,IACAoB,EAAA,WAEA,IAAIE,EAASvB,EAAQwB,OACrBH,EAAAA,QAASD,EAAU,wBAAVA,CAAUhB,KAClB,MAGA,IAAEqB,EAJH,mBAAAC,QAAA,iBAAAA,OAAAC,SAAA,SAAAC,GAAA,cAAAA,GAAA,SAAAA,GAAA,OAAAA,GAAA,mBAAAF,QAAAE,EAAAC,cAAAH,QAAAE,IAAAF,OAAAI,UAAA,gBAAAF,8HC4BErB,EAAA,WA7BFC,EAAAK,qCAkCCL,MAAAA,CACAU,KAvCMF,SAARe,GAEC,GAAIC,OAAAA,IAAJ,IAAAC,MAAAC,QAAAH,IAAA,iBAAA,IAAAA,EAAA,YAAAN,EAAAM,IA0BG,MArBD,IAqBKI,MAAA,kDAzBP,GAAAJ,EAAAK,OAAAvB,GAAAkB,EAAAM,OAAAxB,EAqBKmB,MAAAA,IAAAA,MAAW,0EAhBb,GAHFxB,EAAAR,EAAAsC,KAAAP,GACAb,EAAWqB,WAAQN,kBAAuBzB,GAExCA,EAAAL,aAAAU,GAAA,GAAAL,EAAAL,YAAAK,EAAAL,aAAAU,GAAAS,EAAAnB,WAAA,CACAK,IAAAA,EAAUR,EAAVE,QAEAM,EAAAN,UAAAW,GAAA,iBAAA2B,MAAAA,KAAA,GAAA,IACAtC,EAAYC,EAAAA,SAGAD,OAARM,GACFN,EAAAA,OAAUM,kBAGXD,IACCc,EAASoB,MACTvC,GAAAwC,MAAA,gBAgBLnC,MAAAA,MAOCA,EAAAA,OAAOA,oBAAAA,IAAAA,IAAAA,CAAAA,iBAAAA,SAAAA,GAFDoC,EAAPC,IAAA,gBA1CD,sSCEE5C","file":"mw-alert.min.js","sourcesContent":["angular.module('mw-alert', ['mw-alert-template']);","angular.module('mw-alert').constant('mwAlertConfig', {\r\n\tparent_selector: 'body',\r\n\ttimeout:         3000,\r\n\tclose_auto:      true,\r\n\ttemplateUrl:     'mw-alert.html'\r\n});","angular.module('mw-alert').directive('mwAlert', ['$timeout', 'mwAlertService', 'mwAlertConfig', function($timeout, mwAlertService, mwAlertConfig){\r\n\treturn {\r\n\t\tcontroller:  ['$scope', function AlertCtrl($scope){\r\n\t\t\t//bind close function\r\n\t\t\t$scope.close = mwAlertService.close;\r\n\r\n\t\t\t//listen for deleted event and set message\r\n\t\t\t$scope.$on('mw-alert-closed', function(event, message){\r\n\t\t\t\t$scope.message = message;\r\n\t\t\t});\r\n\r\n\t\t\t//listen for open event and set message\r\n\t\t\t$scope.$on('mw-alert-opened', function(event, message){\r\n\t\t\t\t$scope.message = message;\r\n\t\t\t});\r\n\t\t}],\r\n\t\trestrict:    'E',\r\n\t\t$scope:      true,\r\n\t\ttemplateUrl: function(params, attr){\r\n\t\t\tif(attr.mwAlertTemplateUrl !== undefined){\r\n\t\t\t\treturn attr.mwAlertTemplateUrl;\r\n\t\t\t}else{\r\n\t\t\t\treturn mwAlertConfig.templateUrl;\r\n\t\t\t}\r\n\t\t},\r\n\t\treplace:     true\r\n\t};\r\n}]);","angular.module('mw-alert').run(['$rootScope', '$document', '$compile', '$timeout', 'mwAlertConfig', function($rootScope, $document, $compile, $timeout, mwAlertConfig){\r\n\tlet parent_selector = mwAlertConfig.parent_selector;\r\n\t//set the directive inside the parent selector, default is body\r\n\t//I'm totally aware of the fact that you shouldn't use DOM manipulation outside of a directive but this is for a greater GOOD!\r\n\tlet parent = angular.element($document[0].querySelector(parent_selector));\r\n\t$timeout(function(){\r\n\t\t//create new scope object for the compile directive\r\n\t\tlet $scope = $rootScope.$new();\r\n\t\tparent.prepend($compile('<mw-alert></mw-alert>')($scope));\r\n\t}, 0);\r\n}]);","angular.module('mw-alert').service('mwAlertService', ['$rootScope', '$timeout', 'mwAlertConfig', function($rootScope, $timeout, mwAlertConfig){\r\n\tlet message;\r\n\tlet debounce = null;\r\n\t//set new alert\r\n\tlet open     = function(msg){\r\n\t\t//message need to be an object and has the properties text and type\r\n\t\tif(msg !== null && Array.isArray(msg) === false && typeof msg === 'object'){\r\n\t\t\tif(msg.text !== undefined && msg.type !== undefined){\r\n\t\t\t\t//destroy reference with angular.copy\r\n\t\t\t\tmessage = angular.copy(msg);\r\n\t\t\t\t$rootScope.$broadcast('mw-alert-opened', message);\r\n\t\t\t\t//check if auto close is active\r\n\t\t\t\tif((message.close_auto !== undefined && message.close_auto == true) || (message.close_auto === undefined && mwAlertConfig.close_auto)){\r\n\t\t\t\t\tlet timeout = mwAlertConfig.timeout;\r\n\t\t\t\t\t//check if timeout is set and is a number\r\n\t\t\t\t\tif(message.timeout !== undefined && typeof data === 'number' && (data%1) === 0){\r\n\t\t\t\t\t\ttimeout = message.timeout;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(debounce !== null){\r\n\t\t\t\t\t\t$timeout.cancel(debounce);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdebounce = $timeout(function(){\r\n\t\t\t\t\t\tclose();\r\n\t\t\t\t\t\tdebounce = null;\r\n\t\t\t\t\t}, timeout).catch(function(){\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tthrow new Error(\"The message for mw-alert need to have the properties 'type' and 'text'\");\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tthrow new Error(\"The message for mw-alert need to be an object.\");\r\n\t\t}\r\n\t};\r\n\r\n\t//close the alert box\r\n\tlet close = function(){\r\n\t\tmessage = undefined;\r\n\t\t$rootScope.$broadcast('mw-alert-closed', message);\r\n\t};\r\n\r\n\treturn {\r\n\t\topen:  open,\r\n\t\tclose: close\r\n\t};\r\n}]);","angular.module(\"mw-alert-template\", []).run([\"$templateCache\", function($templateCache) {\r\n\t$templateCache.put(\"mw-alert.html\",\r\n\t\t\"<div class=\\\"mw-alert\\\" ng-class=\\\"'alert-' + (message.type || 'warning')\\\" ng-if=\\\"message != undefined\\\"><div class=\\\"mw-alert-text\\\">{{message.text}}</div><button type=\\\"button\\\" class=\\\"mw-alert-close\\\" ng-click=\\\"close()\\\" aria-hidden=\\\"false\\\"><span aria-hidden=\\\"true\\\">Ã—</span></button></div>\");\r\n}]);\r\n"]}